(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{"3XCE":function(e,t,a){"use strict";a.r(t);var n=a("HaE+"),r=a("dI71"),o=a("o0o1"),c=a.n(o),i=a("q1tI"),s=a.n(i),l=(a("Wbzz"),a("v4r+"),a("IujW"),a("DYRK")),p=(a("5zSb"),a("X7BR")),h=a("G0Ra"),u=a("TrRS");var d={container:{display:"flex",flexDirection:"column",alignItems:"center",margin:"0 20px"},homepageLink:{"&:any-link":{color:"red"},fontFamily:p.a,marginBottom:40},h2:{fontFamily:p.b},headerLogoWrap:{margin:"80px 80px 20px 80px",alignSelf:"stretch"},donateButton:{display:"block",backgroundColor:"#50c878",color:"white",border:"none",fontFamily:p.a,margin:"7px 15px",padding:"7px 0",width:90,cursor:"pointer"},columns:{display:"flex",flexDirection:"row",justifyContent:"center",margin:"0 20px 30px","@media (max-width: 475px)":{flexDirection:"column"}},column:{},body:{maxWidth:800,margin:"0 30px"},checkboxSection:{display:"flex",flexDirection:"column",alignItems:"center",backgroundColor:"#ccc",padding:20},checkboxArea:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",backgroundColor:"#eee",padding:20},purchaseButton:{display:"block",backgroundColor:"#009933",color:"white",border:"none",fontFamily:p.a,margin:"7px 15px",padding:"7px 20px",cursor:"pointer"},checkboxWrap:{},checkboxLabel:{marginRight:10}};d.purchaseButtonInactive=Object.assign({},d.purchaseButton,{backgroundColor:"#999"});var m=function(e){function t(){for(var t,a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).state={},t.handleInputChange=function(e){var a=e.target,n="checkbox"===a.type?a.checked:a.value;t.setState({checked:n})},t.checkAvailable=Object(n.a)(c.a.mark((function e(){var a,n,r,o,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=window.location.search.includes("env=dev"),n="https://us-central1-newleaf-306116.cloudfunctions.net/stripe-inventory-27?purpose=status&env="+(a?"dev":"prod"),e.prev=3,e.next=6,fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({zxcv:1234})}).then((function(e){return e.json()}));case 6:r=e.sent,o=r.current,i=r.max,o>=i?t.setState({checkAvailableError:"Sorry, there are not more plots available at this time.  Please, try again later. Email us at info@newleaf-restoration.org is you have any questions."}):t.setState({showPage:!0}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),t.setState({checkAvailableError:[e.t0.message||"Something went wrong.","Email us at info@newleaf-restoration.org is this problem persists."].join(" ")});case 14:case"end":return e.stop()}}),e,null,[[3,11]])}))),t}Object(r.a)(t,e);var a=t.prototype;return a.componentDidMount=function(){this.checkAvailable()},a.render=function(){var e=this.props.classes,t=window.location.search.includes("env=dev")?"dev":"prod";console.log("stripePrices[env]",h.a[t]);var a=h.a[t].purchase[0];return s.a.createElement("div",{className:e.container},!this.state.showPage&&!this.state.checkAvailableError&&s.a.createElement("p",null," loading..."),!!this.state.checkAvailableError&&s.a.createElement("p",null,this.state.checkAvailableError),!!this.state.showPage&&s.a.createElement("div",{className:e.checkboxArea},s.a.createElement("div",{className:e.checkboxWrap},s.a.createElement("label",{className:e.checkboxLabel,htmlFor:"confirmCheckbox"},"Click this checkbox to confirm"),s.a.createElement("input",{type:"checkbox",id:"confirmCheckbox",onChange:this.handleInputChange})),s.a.createElement(u.a,{prefix:"",amount:"Pay to lease your plot",stripeId:a[1],active:!!this.state.checked,inactiveMessage:"Click the checkbox to agree to the rules.",className:e.purchaseButton,classNameInactive:e.purchaseButtonInactive})))},t}(i.Component),b=Object(l.default)(d)(m),f=function(e){function t(){for(var t,a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(t=e.call.apply(e,[this].concat(n))||this).state={},t}Object(r.a)(t,e);var a=t.prototype;return a.componentDidMount=function(){this.setState({ready:!0})},a.render=function(){return this.state.ready?s.a.createElement(b,null):null},t}(i.Component);t.default=f}}]);
//# sourceMappingURL=component---src-pages-purchaseiframe-js-92ed7ed78dca5161b435.js.map